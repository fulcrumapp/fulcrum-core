{"version":3,"file":"text-element.js","names":["TextElement","parent","attributes","_isNumeric","numeric","format","min","max","isNaN","pattern","patternDescription","pattern_description","toJSON","json","isNumeric","hasMin","hasMax","hasPattern","hasPatternDescription","min_length","_minLength","max_length","_maxLength","default_previous_value","_defaultPreviousValue","length","TextualElement"],"sources":["../../src/elements/text-element.js"],"sourcesContent":["import TextualElement from './textual-element';\n\nexport default class TextElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this._isNumeric = !!attributes.numeric;\n\n    this.format = attributes.format;\n\n    this.min = null;\n    this.max = null;\n\n    if (attributes.min != null) {\n      this.min = +attributes.min;\n    }\n\n    if (attributes.max != null) {\n      this.max = +attributes.max;\n    }\n\n    if (isNaN(this.min)) {\n      this.min = null;\n    }\n\n    if (isNaN(this.max)) {\n      this.max = null;\n    }\n\n    this.pattern = attributes.pattern;\n\n    this.patternDescription = attributes.pattern_description;\n  }\n\n  get isLengthValidationSupported() {\n    return true;\n  }\n\n  get isDecimalFormat() {\n    return this._isNumeric && this.format === 'decimal';\n  }\n\n  get isIntegerFormat() {\n    return this._isNumeric && this.format === 'integer';\n  }\n\n  get isNumeric() {\n    return this._isNumeric;\n  }\n\n  get hasMin() {\n    return this.min != null;\n  }\n\n  get hasMax() {\n    return this.max != null;\n  }\n\n  get hasPattern() {\n    return this.pattern && this.pattern.length;\n  }\n\n  get hasPatternDescription() {\n    return this.patternDescription && this.patternDescription.length;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n\n    json.numeric = this.isNumeric;\n\n    if (this.isNumeric) {\n      json.format = this.format || 'decimal';\n      json.min = this.hasMin ? this.min : null;\n      json.max = this.hasMax ? this.max : null;\n    } else {\n      json.pattern = this.hasPattern ? this.pattern : null;\n      json.pattern_description = this.hasPatternDescription ? this.patternDescription : null;\n    }\n\n    json.min_length = this._minLength;\n    json.max_length = this._maxLength;\n\n    json.default_previous_value = !!this._defaultPreviousValue;\n\n    return json;\n  }\n}\n"],"mappings":";;;;;AAAA;;;;;;;;;;;;IAEqBA,W;;;EACnB,qBAAYC,MAAZ,EAAoBC,UAApB,EAAgC;IAAA;;IAC9B,mCAAMD,MAAN,EAAcC,UAAd;IAEA,MAAKC,UAAL,GAAkB,CAAC,CAACD,UAAU,CAACE,OAA/B;IAEA,MAAKC,MAAL,GAAcH,UAAU,CAACG,MAAzB;IAEA,MAAKC,GAAL,GAAW,IAAX;IACA,MAAKC,GAAL,GAAW,IAAX;;IAEA,IAAIL,UAAU,CAACI,GAAX,IAAkB,IAAtB,EAA4B;MAC1B,MAAKA,GAAL,GAAW,CAACJ,UAAU,CAACI,GAAvB;IACD;;IAED,IAAIJ,UAAU,CAACK,GAAX,IAAkB,IAAtB,EAA4B;MAC1B,MAAKA,GAAL,GAAW,CAACL,UAAU,CAACK,GAAvB;IACD;;IAED,IAAIC,KAAK,CAAC,MAAKF,GAAN,CAAT,EAAqB;MACnB,MAAKA,GAAL,GAAW,IAAX;IACD;;IAED,IAAIE,KAAK,CAAC,MAAKD,GAAN,CAAT,EAAqB;MACnB,MAAKA,GAAL,GAAW,IAAX;IACD;;IAED,MAAKE,OAAL,GAAeP,UAAU,CAACO,OAA1B;IAEA,MAAKC,kBAAL,GAA0BR,UAAU,CAACS,mBAArC;IA5B8B;EA6B/B;;;;SAkCDC,M,GAAA,kBAAS;IACP,IAAMC,IAAI,6BAASD,MAAT,WAAV;;IAEAC,IAAI,CAACT,OAAL,GAAe,KAAKU,SAApB;;IAEA,IAAI,KAAKA,SAAT,EAAoB;MAClBD,IAAI,CAACR,MAAL,GAAc,KAAKA,MAAL,IAAe,SAA7B;MACAQ,IAAI,CAACP,GAAL,GAAW,KAAKS,MAAL,GAAc,KAAKT,GAAnB,GAAyB,IAApC;MACAO,IAAI,CAACN,GAAL,GAAW,KAAKS,MAAL,GAAc,KAAKT,GAAnB,GAAyB,IAApC;IACD,CAJD,MAIO;MACLM,IAAI,CAACJ,OAAL,GAAe,KAAKQ,UAAL,GAAkB,KAAKR,OAAvB,GAAiC,IAAhD;MACAI,IAAI,CAACF,mBAAL,GAA2B,KAAKO,qBAAL,GAA6B,KAAKR,kBAAlC,GAAuD,IAAlF;IACD;;IAEDG,IAAI,CAACM,UAAL,GAAkB,KAAKC,UAAvB;IACAP,IAAI,CAACQ,UAAL,GAAkB,KAAKC,UAAvB;IAEAT,IAAI,CAACU,sBAAL,GAA8B,CAAC,CAAC,KAAKC,qBAArC;IAEA,OAAOX,IAAP;EACD,C;;;;SApDD,eAAkC;MAChC,OAAO,IAAP;IACD;;;SAED,eAAsB;MACpB,OAAO,KAAKV,UAAL,IAAmB,KAAKE,MAAL,KAAgB,SAA1C;IACD;;;SAED,eAAsB;MACpB,OAAO,KAAKF,UAAL,IAAmB,KAAKE,MAAL,KAAgB,SAA1C;IACD;;;SAED,eAAgB;MACd,OAAO,KAAKF,UAAZ;IACD;;;SAED,eAAa;MACX,OAAO,KAAKG,GAAL,IAAY,IAAnB;IACD;;;SAED,eAAa;MACX,OAAO,KAAKC,GAAL,IAAY,IAAnB;IACD;;;SAED,eAAiB;MACf,OAAO,KAAKE,OAAL,IAAgB,KAAKA,OAAL,CAAagB,MAApC;IACD;;;SAED,eAA4B;MAC1B,OAAO,KAAKf,kBAAL,IAA2B,KAAKA,kBAAL,CAAwBe,MAA1D;IACD;;;;EA9DsCC,0B"}
{"version":3,"file":"text-element.js","names":["TextElement","parent","attributes","_isNumeric","numeric","format","min","max","isNaN","pattern","patternDescription","pattern_description","toJSON","json","isNumeric","hasMin","hasMax","hasPattern","hasPatternDescription","min_length","_minLength","max_length","_maxLength","default_previous_value","_defaultPreviousValue","length","TextualElement"],"sources":["../../src/elements/text-element.js"],"sourcesContent":["import TextualElement from './textual-element';\n\nexport default class TextElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this._isNumeric = !!attributes.numeric;\n\n    this.format = attributes.format;\n\n    this.min = null;\n    this.max = null;\n\n    if (attributes.min != null) {\n      this.min = +attributes.min;\n    }\n\n    if (attributes.max != null) {\n      this.max = +attributes.max;\n    }\n\n    if (isNaN(this.min)) {\n      this.min = null;\n    }\n\n    if (isNaN(this.max)) {\n      this.max = null;\n    }\n\n    this.pattern = attributes.pattern;\n\n    this.patternDescription = attributes.pattern_description;\n  }\n\n  get isLengthValidationSupported() {\n    return true;\n  }\n\n  get isDecimalFormat() {\n    return this._isNumeric && this.format === 'decimal';\n  }\n\n  get isIntegerFormat() {\n    return this._isNumeric && this.format === 'integer';\n  }\n\n  get isNumeric() {\n    return this._isNumeric;\n  }\n\n  get hasMin() {\n    return this.min != null;\n  }\n\n  get hasMax() {\n    return this.max != null;\n  }\n\n  get hasPattern() {\n    return this.pattern && this.pattern.length;\n  }\n\n  get hasPatternDescription() {\n    return this.patternDescription && this.patternDescription.length;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n\n    json.numeric = this.isNumeric;\n\n    if (this.isNumeric) {\n      json.format = this.format || 'decimal';\n      json.min = this.hasMin ? this.min : null;\n      json.max = this.hasMax ? this.max : null;\n    } else {\n      json.pattern = this.hasPattern ? this.pattern : null;\n      json.pattern_description = this.hasPatternDescription ? this.patternDescription : null;\n    }\n\n    json.min_length = this._minLength;\n    json.max_length = this._maxLength;\n\n    json.default_previous_value = !!this._defaultPreviousValue;\n\n    return json;\n  }\n}\n"],"mappings":"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"}
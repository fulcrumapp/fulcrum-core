{"version":3,"file":"classification.js","names":["Classification","parent","attributes","label","value","_items","child_classifications","child","push","toJSON","values","exploded","item","slice","classifications","iterator","reverse"],"sources":["../../src/elements/classification.js"],"sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this._items = [];\n\n    if (attributes.child_classifications) {\n      for (const child of attributes.child_classifications) {\n        this._items.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get items() {\n    return this._items.slice();\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    /* eslint-disable consistent-this */\n    let iterator = this;\n    /* eslint-enable consistent-this */\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (const item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"],"mappings":";;;;;;;;;IAAqBA,cAAc;EACjC,wBAAYC,MAAM,EAAEC,UAAU,EAAE;IAC9B,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,KAAK,GAAGD,UAAU,CAACC,KAAK;IAC7B,IAAI,CAACC,KAAK,GAAGF,UAAU,CAACE,KAAK,IAAIF,UAAU,CAACC,KAAK;IACjD,IAAI,CAACE,MAAM,GAAG,EAAE;IAEhB,IAAIH,UAAU,CAACI,qBAAqB,EAAE;MACpC,qDAAoBJ,UAAU,CAACI,qBAAqB,wCAAE;QAAA,IAA3CC,KAAK;QACd,IAAI,CAACF,MAAM,CAACG,IAAI,CAAC,IAAIR,cAAc,CAAC,IAAI,EAAEO,KAAK,CAAC,CAAC;MACnD;IACF;EACF;EAAC;EAAA,OA0BDE,MAAM,GAAN,kBAAS;IACP,IAAMC,MAAM,GAAG,EAAE;IAEjB,sDAAmB,IAAI,CAACC,QAAQ,2CAAE;MAAA,IAAvBC,IAAI;MACb,IAAIA,IAAI,CAACR,KAAK,EAAE;QACdM,MAAM,CAACF,IAAI,CAACI,IAAI,CAACR,KAAK,CAAC;MACzB;IACF;IAEA,OAAOM,MAAM;EACf,CAAC;EAAA;IAAA;IAAA,KAlCD,eAAY;MACV,OAAO,IAAI,CAACL,MAAM,CAACQ,KAAK,EAAE;IAC5B;EAAC;IAAA;IAAA,KAED,eAAe;MACb;MACA,IAAMC,eAAe,GAAG,EAAE;;MAE1B;MACA,IAAIC,QAAQ,GAAG,IAAI;MACnB;;MAEA,OAAOA,QAAQ,IAAIA,QAAQ,CAACd,MAAM,EAAE;QAClCa,eAAe,CAACN,IAAI,CAACO,QAAQ,CAAC;QAC9BA,QAAQ,GAAGA,QAAQ,CAACd,MAAM;MAC5B;MAEA,IAAIc,QAAQ,EAAE;QACZD,eAAe,CAACN,IAAI,CAACO,QAAQ,CAAC;MAChC;MAEA,OAAOD,eAAe,CAACE,OAAO,EAAE;IAClC;EAAC;EAAA;AAAA;AAAA"}
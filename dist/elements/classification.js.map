{"version":3,"file":"classification.js","names":["Classification","parent","attributes","label","value","_items","child_classifications","child","push","toJSON","values","exploded","item","slice","classifications","iterator","reverse"],"sources":["../../src/elements/classification.js"],"sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this._items = [];\n\n    if (attributes.child_classifications) {\n      for (const child of attributes.child_classifications) {\n        this._items.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get items() {\n    return this._items.slice();\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    /* eslint-disable consistent-this */\n    let iterator = this;\n    /* eslint-enable consistent-this */\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (const item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;IAAqBA,c;EACnB,wBAAYC,MAAZ,EAAoBC,UAApB,EAAgC;IAC9B,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKE,KAAL,GAAaD,UAAU,CAACC,KAAxB;IACA,KAAKC,KAAL,GAAaF,UAAU,CAACE,KAAX,IAAoBF,UAAU,CAACC,KAA5C;IACA,KAAKE,MAAL,GAAc,EAAd;;IAEA,IAAIH,UAAU,CAACI,qBAAf,EAAsC;MACpC,qDAAoBJ,UAAU,CAACI,qBAA/B,wCAAsD;QAAA,IAA3CC,KAA2C;;QACpD,KAAKF,MAAL,CAAYG,IAAZ,CAAiB,IAAIR,cAAJ,CAAmB,IAAnB,EAAyBO,KAAzB,CAAjB;MACD;IACF;EACF;;;;SA0BDE,M,GAAA,kBAAS;IACP,IAAMC,MAAM,GAAG,EAAf;;IAEA,sDAAmB,KAAKC,QAAxB,2CAAkC;MAAA,IAAvBC,IAAuB;;MAChC,IAAIA,IAAI,CAACR,KAAT,EAAgB;QACdM,MAAM,CAACF,IAAP,CAAYI,IAAI,CAACR,KAAjB;MACD;IACF;;IAED,OAAOM,MAAP;EACD,C;;;;SAlCD,eAAY;MACV,OAAO,KAAKL,MAAL,CAAYQ,KAAZ,EAAP;IACD;;;SAED,eAAe;MACb;MACA,IAAMC,eAAe,GAAG,EAAxB;MAEA;;MACA,IAAIC,QAAQ,GAAG,IAAf;MACA;;MAEA,OAAOA,QAAQ,IAAIA,QAAQ,CAACd,MAA5B,EAAoC;QAClCa,eAAe,CAACN,IAAhB,CAAqBO,QAArB;QACAA,QAAQ,GAAGA,QAAQ,CAACd,MAApB;MACD;;MAED,IAAIc,QAAJ,EAAc;QACZD,eAAe,CAACN,IAAhB,CAAqBO,QAArB;MACD;;MAED,OAAOD,eAAe,CAACE,OAAhB,EAAP;IACD"}
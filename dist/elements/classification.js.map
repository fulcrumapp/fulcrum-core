{"version":3,"sources":["../../src/elements/classification.js"],"names":["Classification","parent","attributes","label","value","_items","child_classifications","child","push","toJSON","values","exploded","item","slice","classifications","iterator","reverse"],"mappings":";;;;;;;;;IAAqBA,c;;;AACnB,0BAAYC,MAAZ,EAAoBC,UAApB,EAAgC;AAC9B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKE,KAAL,GAAaD,UAAU,CAACC,KAAxB;AACA,SAAKC,KAAL,GAAaF,UAAU,CAACE,KAAX,IAAoBF,UAAU,CAACC,KAA5C;AACA,SAAKE,MAAL,GAAc,EAAd;;AAEA,QAAIH,UAAU,CAACI,qBAAf,EAAsC;AACpC,2BAAoBJ,UAAU,CAACI,qBAA/B,kHAAsD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,YAA3CC,KAA2C;;AACpD,aAAKF,MAAL,CAAYG,IAAZ,CAAiB,IAAIR,cAAJ,CAAmB,IAAnB,EAAyBO,KAAzB,CAAjB;AACD;AACF;AACF;;;;SA0BDE,M,GAAA,kBAAS;AACP,QAAMC,MAAM,GAAG,EAAf;;AAEA,0BAAmB,KAAKC,QAAxB,yHAAkC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,UAAvBC,IAAuB;;AAChC,UAAIA,IAAI,CAACR,KAAT,EAAgB;AACdM,QAAAA,MAAM,CAACF,IAAP,CAAYI,IAAI,CAACR,KAAjB;AACD;AACF;;AAED,WAAOM,MAAP;AACD,G;;;;wBAlCW;AACV,aAAO,KAAKL,MAAL,CAAYQ,KAAZ,EAAP;AACD;;;wBAEc;AACb;AACA,UAAMC,eAAe,GAAG,EAAxB;AAEA;;AACA,UAAIC,QAAQ,GAAG,IAAf;AACA;;AAEA,aAAOA,QAAQ,IAAIA,QAAQ,CAACd,MAA5B,EAAoC;AAClCa,QAAAA,eAAe,CAACN,IAAhB,CAAqBO,QAArB;AACAA,QAAAA,QAAQ,GAAGA,QAAQ,CAACd,MAApB;AACD;;AAED,UAAIc,QAAJ,EAAc;AACZD,QAAAA,eAAe,CAACN,IAAhB,CAAqBO,QAArB;AACD;;AAED,aAAOD,eAAe,CAACE,OAAhB,EAAP;AACD","sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this._items = [];\n\n    if (attributes.child_classifications) {\n      for (const child of attributes.child_classifications) {\n        this._items.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get items() {\n    return this._items.slice();\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    /* eslint-disable consistent-this */\n    let iterator = this;\n    /* eslint-enable consistent-this */\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (const item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"],"file":"classification.js"}
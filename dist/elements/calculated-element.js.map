{"version":3,"file":"calculated-element.js","names":["CalculatedElement","parent","attributes","expression","display","DisplayOptions","findCalculatedElementRoot","form","container","type","isSectionElement","isRepeatableElement","findCalculatedElementsForContainer","elements","element","isCalculatedElement","push","concat","TextualElement"],"sources":["../../src/elements/calculated-element.js"],"sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (const element of container.elements) {\n      if (element.isCalculatedElement) {\n        elements.push(element);\n      } else if (element.isSectionElement) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"],"mappings":";;;;;AAAA;;AACA;;;;;;;;;;;;;;IAEqBA,iB;;;EACnB,2BAAYC,MAAZ,EAAoBC,UAApB,EAAgC;IAAA;;IAC9B,mCAAMD,MAAN,EAAcC,UAAd;IAEA,MAAKC,UAAL,GAAkBD,UAAU,CAACC,UAA7B;IACA,MAAKC,OAAL,GAAe,IAAIC,0BAAJ,CAAmBH,UAAU,CAACE,OAA9B,CAAf;IAJ8B;EAK/B;;oBAEME,yB,GAAP,mCAAiCC,IAAjC,EAAuCC,SAAvC,EAAkD;IAChD,IAAIA,SAAS,CAACC,IAAV,IAAkB,IAAtB,EAA4B;MAC1B,IAAID,SAAS,CAACE,gBAAd,EAAgC;QAC9B,OAAOV,iBAAiB,CAACM,yBAAlB,CAA4CC,IAA5C,EAAkDC,SAAS,CAACP,MAA5D,CAAP;MACD,CAFD,MAEO,IAAIO,SAAS,CAACG,mBAAd,EAAmC;QACxC,OAAOH,SAAP;MACD;IACF;;IACD,OAAOD,IAAP;EACD,C;;oBAEMK,kC,GAAP,4CAA0CJ,SAA1C,EAAqD;IACnD,IAAIK,QAAQ,GAAG,EAAf;;IAEA,qDAAsBL,SAAS,CAACK,QAAhC,wCAA0C;MAAA,IAA/BC,OAA+B;;MACxC,IAAIA,OAAO,CAACC,mBAAZ,EAAiC;QAC/BF,QAAQ,CAACG,IAAT,CAAcF,OAAd;MACD,CAFD,MAEO,IAAIA,OAAO,CAACJ,gBAAZ,EAA8B;QACnCG,QAAQ,GAAGA,QAAQ,CAACI,MAAT,CAAgBjB,iBAAiB,CAACY,kCAAlB,CAAqDE,OAArD,CAAhB,CAAX;MACD;IACF;;IAED,OAAOD,QAAP;EACD,C;;;EA/B4CK,0B"}
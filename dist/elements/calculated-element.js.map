{"version":3,"file":"calculated-element.js","names":["CalculatedElement","parent","attributes","expression","display","DisplayOptions","findCalculatedElementRoot","form","container","type","isSectionElement","isRepeatableElement","findCalculatedElementsForContainer","elements","element","isCalculatedElement","push","concat","TextualElement"],"sources":["../../src/elements/calculated-element.js"],"sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (const element of container.elements) {\n      if (element.isCalculatedElement) {\n        elements.push(element);\n      } else if (element.isSectionElement) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"],"mappings":";;;;AAAA;AACA;AAA+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAE1BA,iBAAiB;EAAA;EACpC,2BAAYC,MAAM,EAAEC,UAAU,EAAE;IAAA;IAC9B,mCAAMD,MAAM,EAAEC,UAAU,CAAC;IAEzB,MAAKC,UAAU,GAAGD,UAAU,CAACC,UAAU;IACvC,MAAKC,OAAO,GAAG,IAAIC,0BAAc,CAACH,UAAU,CAACE,OAAO,CAAC;IAAC;EACxD;EAAC,kBAEME,yBAAyB,GAAhC,mCAAiCC,IAAI,EAAEC,SAAS,EAAE;IAChD,IAAIA,SAAS,CAACC,IAAI,IAAI,IAAI,EAAE;MAC1B,IAAID,SAAS,CAACE,gBAAgB,EAAE;QAC9B,OAAOV,iBAAiB,CAACM,yBAAyB,CAACC,IAAI,EAAEC,SAAS,CAACP,MAAM,CAAC;MAC5E,CAAC,MAAM,IAAIO,SAAS,CAACG,mBAAmB,EAAE;QACxC,OAAOH,SAAS;MAClB;IACF;IACA,OAAOD,IAAI;EACb,CAAC;EAAA,kBAEMK,kCAAkC,GAAzC,4CAA0CJ,SAAS,EAAE;IACnD,IAAIK,QAAQ,GAAG,EAAE;IAEjB,qDAAsBL,SAAS,CAACK,QAAQ,wCAAE;MAAA,IAA/BC,OAAO;MAChB,IAAIA,OAAO,CAACC,mBAAmB,EAAE;QAC/BF,QAAQ,CAACG,IAAI,CAACF,OAAO,CAAC;MACxB,CAAC,MAAM,IAAIA,OAAO,CAACJ,gBAAgB,EAAE;QACnCG,QAAQ,GAAGA,QAAQ,CAACI,MAAM,CAACjB,iBAAiB,CAACY,kCAAkC,CAACE,OAAO,CAAC,CAAC;MAC3F;IACF;IAEA,OAAOD,QAAQ;EACjB,CAAC;EAAA;AAAA,EA/B4CK,0BAAc;AAAA"}
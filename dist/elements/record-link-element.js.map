{"version":3,"file":"record-link-element.js","names":["RecordLinkElement","parent","attributes","_formID","form_id","allowMultiple","allow_multiple_records","allowExisting","allow_existing_records","allowCreating","allow_creating_records","allowUpdating","allow_updating_records","recordConditionsType","record_conditions_type","recordConditions","record_conditions","condition","push","RecordLinkCondition","recordDefaults","record_defaults","def","RecordLinkDefault","load","dataSource","callback","getForm","err","form","Element"],"sources":["../../src/elements/record-link-element.js"],"sourcesContent":["import Element from './element';\nimport RecordLinkCondition from './record-link-condition';\nimport RecordLinkDefault from './record-link-default';\n\nexport default class RecordLinkElement extends Element {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this._formID = attributes.form_id;\n\n    this.allowMultiple = !!attributes.allow_multiple_records;\n    this.allowExisting = !!attributes.allow_existing_records;\n    this.allowCreating = !!attributes.allow_creating_records;\n    this.allowUpdating = !!attributes.allow_updating_records;\n\n    // TODO(zhm) model these\n    this.recordConditionsType = attributes.record_conditions_type;\n\n    this.recordConditions = [];\n\n    if (attributes.record_conditions) {\n      for (const condition of attributes.record_conditions) {\n        this.recordConditions.push(new RecordLinkCondition(condition));\n      }\n    }\n\n    this.recordDefaults = [];\n\n    if (attributes.record_defaults) {\n      for (const def of attributes.record_defaults) {\n        this.recordDefaults.push(new RecordLinkDefault(def));\n      }\n    }\n  }\n\n  load(dataSource, callback) {\n    dataSource.getForm(this._formID, (err, form) => {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      // recursively load the linked forms\n      this.form = form;\n      this.form.load(dataSource, callback);\n    });\n  }\n}\n\n"],"mappings":";;;;AAAA;AACA;AACA;AAAsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAEjCA,iBAAiB;EAAA;EACpC,2BAAYC,MAAM,EAAEC,UAAU,EAAE;IAAA;IAC9B,4BAAMD,MAAM,EAAEC,UAAU,CAAC;IAEzB,MAAKC,OAAO,GAAGD,UAAU,CAACE,OAAO;IAEjC,MAAKC,aAAa,GAAG,CAAC,CAACH,UAAU,CAACI,sBAAsB;IACxD,MAAKC,aAAa,GAAG,CAAC,CAACL,UAAU,CAACM,sBAAsB;IACxD,MAAKC,aAAa,GAAG,CAAC,CAACP,UAAU,CAACQ,sBAAsB;IACxD,MAAKC,aAAa,GAAG,CAAC,CAACT,UAAU,CAACU,sBAAsB;;IAExD;IACA,MAAKC,oBAAoB,GAAGX,UAAU,CAACY,sBAAsB;IAE7D,MAAKC,gBAAgB,GAAG,EAAE;IAE1B,IAAIb,UAAU,CAACc,iBAAiB,EAAE;MAChC,qDAAwBd,UAAU,CAACc,iBAAiB,wCAAE;QAAA,IAA3CC,SAAS;QAClB,MAAKF,gBAAgB,CAACG,IAAI,CAAC,IAAIC,+BAAmB,CAACF,SAAS,CAAC,CAAC;MAChE;IACF;IAEA,MAAKG,cAAc,GAAG,EAAE;IAExB,IAAIlB,UAAU,CAACmB,eAAe,EAAE;MAC9B,sDAAkBnB,UAAU,CAACmB,eAAe,2CAAE;QAAA,IAAnCC,GAAG;QACZ,MAAKF,cAAc,CAACF,IAAI,CAAC,IAAIK,6BAAiB,CAACD,GAAG,CAAC,CAAC;MACtD;IACF;IAAC;EACH;EAAC;EAAA,OAEDE,IAAI,GAAJ,cAAKC,UAAU,EAAEC,QAAQ,EAAE;IAAA;IACzBD,UAAU,CAACE,OAAO,CAAC,IAAI,CAACxB,OAAO,EAAE,UAACyB,GAAG,EAAEC,IAAI,EAAK;MAC9C,IAAID,GAAG,EAAE;QACPF,QAAQ,CAACE,GAAG,CAAC;QACb;MACF;;MAEA;MACA,MAAI,CAACC,IAAI,GAAGA,IAAI;MAChB,MAAI,CAACA,IAAI,CAACL,IAAI,CAACC,UAAU,EAAEC,QAAQ,CAAC;IACtC,CAAC,CAAC;EACJ,CAAC;EAAA;AAAA,EA1C4CI,mBAAO;AAAA"}
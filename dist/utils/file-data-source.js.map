{"version":3,"sources":["../../src/utils/file-data-source.js"],"names":["FileDataSource","root","toString","json","jsonPath","JSON","parse","fs","readFileSync","getChoiceList","id","callback","path","join","ChoiceList","choice_list","getClassificationSet","ClassificationSet","classification_set","getForm","Form","form","getUsers","params","getProjects"],"mappings":";;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;;;IAEqBA,c;;;AACnB,0BAAYC,IAAZ,EAAkB;AAChB,SAAKA,IAAL,GAAYA,IAAI,CAACC,QAAL,EAAZ;AACD;;;;SAEDC,I,GAAA,cAAKC,QAAL,EAAe;AACb,WAAOC,IAAI,CAACC,KAAL,CAAWC,eAAGC,YAAH,CAAgBJ,QAAhB,EAA0BF,QAA1B,EAAX,CAAP;AACD,G;;SAEDO,a,GAAA,uBAAcC,EAAd,EAAkBC,QAAlB,EAA4B;AAC1B,QAAMP,QAAQ,GAAGQ,iBAAKC,IAAL,CAAU,KAAKZ,IAAf,EAAqB,cAArB,EAAqCS,EAAE,GAAG,OAA1C,CAAjB;;AAEA,WAAOC,QAAQ,CAAC,IAAD,EAAO,IAAIG,sBAAJ,CAAe,KAAKX,IAAL,CAAUC,QAAV,EAAoBW,WAAnC,CAAP,CAAf;AACD,G;;SAEDC,oB,GAAA,8BAAqBN,EAArB,EAAyBC,QAAzB,EAAmC;AACjC,QAAMP,QAAQ,GAAGQ,iBAAKC,IAAL,CAAU,KAAKZ,IAAf,EAAqB,qBAArB,EAA4CS,EAAE,GAAG,OAAjD,CAAjB;;AAEA,WAAOC,QAAQ,CAAC,IAAD,EAAO,IAAIM,6BAAJ,CAAsB,KAAKd,IAAL,CAAUC,QAAV,EAAoBc,kBAA1C,CAAP,CAAf;AACD,G;;SAEDC,O,GAAA,iBAAQT,EAAR,EAAYC,QAAZ,EAAsB;AACpB,QAAMP,QAAQ,GAAGQ,iBAAKC,IAAL,CAAU,KAAKZ,IAAf,EAAqB,OAArB,EAA8BS,EAAE,GAAG,OAAnC,CAAjB;;AAEA,WAAOC,QAAQ,CAAC,IAAD,EAAO,IAAIS,gBAAJ,CAAS,KAAKjB,IAAL,CAAUC,QAAV,EAAoBiB,IAA7B,CAAP,CAAf;AACD,G;;SAEDC,Q,GAAA,kBAASC,MAAT,EAAiBZ,QAAjB,EAA2B;AACzB,WAAOA,QAAQ,CAAC,IAAD,EAAO,EAAP,CAAf;AACD,G;;SAEDa,W,GAAA,qBAAYD,MAAZ,EAAoBZ,QAApB,EAA8B;AAC5B,WAAOA,QAAQ,CAAC,IAAD,EAAO,EAAP,CAAf;AACD,G","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileDataSource {\n  constructor(root) {\n    this.root = root.toString();\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  getChoiceList(id, callback) {\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    return callback(null, new ChoiceList(this.json(jsonPath).choice_list));\n  }\n\n  getClassificationSet(id, callback) {\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    return callback(null, new ClassificationSet(this.json(jsonPath).classification_set));\n  }\n\n  getForm(id, callback) {\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    return callback(null, new Form(this.json(jsonPath).form));\n  }\n\n  getUsers(params, callback) {\n    return callback(null, []);\n  }\n\n  getProjects(params, callback) {\n    return callback(null, []);\n  }\n}\n"],"file":"file-data-source.js"}
{"version":3,"sources":["../../src/validation/length-validation-error.js"],"names":["AT_LEAST","AT_MOST","BETWEEN","EXACTLY","LengthValidationError","element","hasMinLength","hasMaxLength","minLength","maxLength","type","messageWithFormats","singularFormat","pluralFormat","length","label","isTextElement","textElementMessage","isChoiceElement","choiceElementMessage","isPhotoElement","photoElementMessage","isVideoElement","videoElementMessage","isAudioElement","audioElementMessage","isRepeatableElement","repeatableElementMessage","isAtLeastError","isAtMostError","isBetweenError","isExactlyError","ElementValidationError"],"mappings":"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","sourcesContent":["import ElementValidationError from './element-validation-error';\nimport {format} from 'util';\n\nconst AT_LEAST = 'at-least';\nconst AT_MOST = 'at-most';\nconst BETWEEN = 'between';\nconst EXACTLY = 'exactly';\n\nexport default class LengthValidationError extends ElementValidationError {\n  constructor(element) {\n    super(element);\n\n    if (element.hasMinLength && element.hasMaxLength && element.minLength === element.maxLength) {\n      this.type = EXACTLY;\n    } else if (element.hasMinLength && element.hasMaxLength) {\n      this.type = BETWEEN;\n    } else if (element.hasMinLength) {\n      this.type = AT_LEAST;\n    } else if (element.hasMaxLength) {\n      this.type = AT_MOST;\n    }\n  }\n\n  get message() {\n    if (this.element.isTextElement) {\n      return this.textElementMessage;\n    } else if (this.element.isChoiceElement) {\n      return this.choiceElementMessage;\n    } else if (this.element.isPhotoElement) {\n      return this.photoElementMessage;\n    } else if (this.element.isVideoElement) {\n      return this.videoElementMessage;\n    } else if (this.element.isAudioElement) {\n      return this.audioElementMessage;\n    } else if (this.element.isRepeatableElement) {\n      return this.repeatableElementMessage;\n    }\n\n    return '';\n  }\n\n  get isAtLeastError() {\n    return this.type === AT_LEAST;\n  }\n\n  get isAtMostError() {\n    return this.type === AT_MOST;\n  }\n\n  get isBetweenError() {\n    return this.type === BETWEEN;\n  }\n\n  get isExactlyError() {\n    return this.type === EXACTLY;\n  }\n\n  get textElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 character.\",\n                                     \"The field '%s' must have at least %s characters.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 character.\",\n                                     \"The field '%s' cannot have more than %s characters.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s characters.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 character.\",\n                                     \"The field '%s' must have exactly %s characters.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get photoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 photo.\",\n                                     \"The field '%s' must have at least %s photos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 photo.\",\n                                     \"The field '%s' cannot have more than %s photos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s photos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 photo.\",\n                                     \"The field '%s' must have exactly %s photos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get videoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 video.\",\n                                     \"The field '%s' must have at least %s videos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 video.\",\n                                     \"The field '%s' cannot have more than %s videos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s videos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 video.\",\n                                     \"The field '%s' must have exactly %s videos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get audioElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 audio file.\",\n                                     \"The field '%s' must have at least %s audio files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 audio file.\",\n                                     \"The field '%s' cannot have more than %s audio files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s audio files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 audio file.\",\n                                     \"The field '%s' must have exactly %s audio files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get choiceElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 choice.\",\n                                     \"The field '%s' must have at least %s choices.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 choice.\",\n                                     \"The field '%s' cannot have more than %s choices.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s choices.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 choice.\",\n                                     \"The field '%s' must have exactly %s choices.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get repeatableElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 item.\",\n                                     \"The field '%s' must have at least %s items.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 item.\",\n                                     \"The field '%s' cannot have more than %s items.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s items.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 item.\",\n                                     \"The field '%s' must have exactly %s items.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  messageWithFormats(singularFormat, pluralFormat, length) {\n    if (length === 1) {\n      return format(singularFormat, this.label, length);\n    }\n\n    return format(pluralFormat, this.label, length);\n  }\n}\n"],"file":"length-validation-error.js"}
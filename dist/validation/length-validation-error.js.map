{"version":3,"file":"length-validation-error.js","names":["AT_LEAST","AT_MOST","BETWEEN","EXACTLY","LengthValidationError","element","hasMinLength","hasMaxLength","minLength","maxLength","type","messageWithFormats","singularFormat","pluralFormat","length","format","label","isTextElement","textElementMessage","isChoiceElement","choiceElementMessage","isPhotoElement","photoElementMessage","isVideoElement","videoElementMessage","isAudioElement","audioElementMessage","isAttachmentElement","attachmentElementMessage","isRepeatableElement","repeatableElementMessage","isAtLeastError","isAtMostError","isBetweenError","isExactlyError","ElementValidationError"],"sources":["../../src/validation/length-validation-error.js"],"sourcesContent":["import ElementValidationError from './element-validation-error';\nimport {format} from 'util';\n\nconst AT_LEAST = 'at-least';\nconst AT_MOST = 'at-most';\nconst BETWEEN = 'between';\nconst EXACTLY = 'exactly';\n\nexport default class LengthValidationError extends ElementValidationError {\n  constructor(element) {\n    super(element);\n\n    if (element.hasMinLength && element.hasMaxLength && element.minLength === element.maxLength) {\n      this.type = EXACTLY;\n    } else if (element.hasMinLength && element.hasMaxLength) {\n      this.type = BETWEEN;\n    } else if (element.hasMinLength) {\n      this.type = AT_LEAST;\n    } else if (element.hasMaxLength) {\n      this.type = AT_MOST;\n    }\n  }\n\n  get message() {\n    if (this.element.isTextElement) {\n      return this.textElementMessage;\n    } else if (this.element.isChoiceElement) {\n      return this.choiceElementMessage;\n    } else if (this.element.isPhotoElement) {\n      return this.photoElementMessage;\n    } else if (this.element.isVideoElement) {\n      return this.videoElementMessage;\n    } else if (this.element.isAudioElement) {\n      return this.audioElementMessage;\n    } else if (this.element.isAttachmentElement) {\n      return this.attachmentElementMessage;\n    } else if (this.element.isRepeatableElement) {\n      return this.repeatableElementMessage;\n    }\n\n    return '';\n  }\n\n  get isAtLeastError() {\n    return this.type === AT_LEAST;\n  }\n\n  get isAtMostError() {\n    return this.type === AT_MOST;\n  }\n\n  get isBetweenError() {\n    return this.type === BETWEEN;\n  }\n\n  get isExactlyError() {\n    return this.type === EXACTLY;\n  }\n\n  get textElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 character.\",\n                                     \"The field '%s' must have at least %s characters.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 character.\",\n                                     \"The field '%s' cannot have more than %s characters.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s characters.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 character.\",\n                                     \"The field '%s' must have exactly %s characters.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get photoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 photo.\",\n                                     \"The field '%s' must have at least %s photos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 photo.\",\n                                     \"The field '%s' cannot have more than %s photos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s photos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 photo.\",\n                                     \"The field '%s' must have exactly %s photos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get videoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 video.\",\n                                     \"The field '%s' must have at least %s videos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 video.\",\n                                     \"The field '%s' cannot have more than %s videos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s videos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 video.\",\n                                     \"The field '%s' must have exactly %s videos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get audioElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 audio file.\",\n                                     \"The field '%s' must have at least %s audio files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 audio file.\",\n                                     \"The field '%s' cannot have more than %s audio files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s audio files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 audio file.\",\n                                     \"The field '%s' must have exactly %s audio files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get attachmentElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 file.\",\n                                     \"The field '%s' must have at least %s files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 file.\",\n                                     \"The field '%s' cannot have more than %s files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 file.\",\n                                     \"The field '%s' must have exactly %s files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get choiceElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 choice.\",\n                                     \"The field '%s' must have at least %s choices.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 choice.\",\n                                     \"The field '%s' cannot have more than %s choices.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s choices.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 choice.\",\n                                     \"The field '%s' must have exactly %s choices.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get repeatableElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 item.\",\n                                     \"The field '%s' must have at least %s items.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 item.\",\n                                     \"The field '%s' cannot have more than %s items.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s items.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 item.\",\n                                     \"The field '%s' must have exactly %s items.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  messageWithFormats(singularFormat, pluralFormat, length) {\n    if (length === 1) {\n      return format(singularFormat, this.label, length);\n    }\n\n    return format(pluralFormat, this.label, length);\n  }\n}\n"],"mappings":"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"}
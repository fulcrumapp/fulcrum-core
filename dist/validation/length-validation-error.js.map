{"version":3,"file":"length-validation-error.js","names":["AT_LEAST","AT_MOST","BETWEEN","EXACTLY","LengthValidationError","element","hasMinLength","hasMaxLength","minLength","maxLength","type","messageWithFormats","singularFormat","pluralFormat","length","format","label","isTextElement","textElementMessage","isChoiceElement","choiceElementMessage","isPhotoElement","photoElementMessage","isVideoElement","videoElementMessage","isAudioElement","audioElementMessage","isAttachmentElement","attachmentElementMessage","isRepeatableElement","repeatableElementMessage","isAtLeastError","isAtMostError","isBetweenError","isExactlyError","ElementValidationError"],"sources":["../../src/validation/length-validation-error.js"],"sourcesContent":["import ElementValidationError from './element-validation-error';\nimport {format} from 'util';\n\nconst AT_LEAST = 'at-least';\nconst AT_MOST = 'at-most';\nconst BETWEEN = 'between';\nconst EXACTLY = 'exactly';\n\nexport default class LengthValidationError extends ElementValidationError {\n  constructor(element) {\n    super(element);\n\n    if (element.hasMinLength && element.hasMaxLength && element.minLength === element.maxLength) {\n      this.type = EXACTLY;\n    } else if (element.hasMinLength && element.hasMaxLength) {\n      this.type = BETWEEN;\n    } else if (element.hasMinLength) {\n      this.type = AT_LEAST;\n    } else if (element.hasMaxLength) {\n      this.type = AT_MOST;\n    }\n  }\n\n  get message() {\n    if (this.element.isTextElement) {\n      return this.textElementMessage;\n    } else if (this.element.isChoiceElement) {\n      return this.choiceElementMessage;\n    } else if (this.element.isPhotoElement) {\n      return this.photoElementMessage;\n    } else if (this.element.isVideoElement) {\n      return this.videoElementMessage;\n    } else if (this.element.isAudioElement) {\n      return this.audioElementMessage;\n    } else if (this.element.isAttachmentElement) {\n      return this.attachmentElementMessage;\n    } else if (this.element.isRepeatableElement) {\n      return this.repeatableElementMessage;\n    }\n\n    return '';\n  }\n\n  get isAtLeastError() {\n    return this.type === AT_LEAST;\n  }\n\n  get isAtMostError() {\n    return this.type === AT_MOST;\n  }\n\n  get isBetweenError() {\n    return this.type === BETWEEN;\n  }\n\n  get isExactlyError() {\n    return this.type === EXACTLY;\n  }\n\n  get textElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 character.\",\n                                     \"The field '%s' must have at least %s characters.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 character.\",\n                                     \"The field '%s' cannot have more than %s characters.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s characters.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 character.\",\n                                     \"The field '%s' must have exactly %s characters.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get photoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 photo.\",\n                                     \"The field '%s' must have at least %s photos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 photo.\",\n                                     \"The field '%s' cannot have more than %s photos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s photos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 photo.\",\n                                     \"The field '%s' must have exactly %s photos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get videoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 video.\",\n                                     \"The field '%s' must have at least %s videos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 video.\",\n                                     \"The field '%s' cannot have more than %s videos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s videos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 video.\",\n                                     \"The field '%s' must have exactly %s videos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get audioElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 audio file.\",\n                                     \"The field '%s' must have at least %s audio files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 audio file.\",\n                                     \"The field '%s' cannot have more than %s audio files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s audio files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 audio file.\",\n                                     \"The field '%s' must have exactly %s audio files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get attachmentElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 file.\",\n                                     \"The field '%s' must have at least %s files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 file.\",\n                                     \"The field '%s' cannot have more than %s files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 file.\",\n                                     \"The field '%s' must have exactly %s files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get choiceElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 choice.\",\n                                     \"The field '%s' must have at least %s choices.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 choice.\",\n                                     \"The field '%s' cannot have more than %s choices.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s choices.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 choice.\",\n                                     \"The field '%s' must have exactly %s choices.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get repeatableElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 item.\",\n                                     \"The field '%s' must have at least %s items.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 item.\",\n                                     \"The field '%s' cannot have more than %s items.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s items.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 item.\",\n                                     \"The field '%s' must have exactly %s items.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  messageWithFormats(singularFormat, pluralFormat, length) {\n    if (length === 1) {\n      return format(singularFormat, this.label, length);\n    }\n\n    return format(pluralFormat, this.label, length);\n  }\n}\n"],"mappings":"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"}
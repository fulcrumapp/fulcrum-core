{"version":3,"file":"signature-value.js","names":["SignatureValue","element","attributes","_identifier","signature_id","_timestamp","DateUtils","parseISOTimestamp","timestamp","clear","format","part","formatSignatureURL","formatSignatureViewerURL","formatSignatureName","args","isEmpty","id","toJSON","formatISOTimestamp","isEqual","value","contains","startsWith","isLessThan","isGreaterThan","Date","TypeError","key","FormValue"],"sources":["../../src/values/signature-value.js"],"sourcesContent":["import FormValue from './form-value';\nimport DateUtils from '../utils/date-utils';\n\nexport default class SignatureValue extends FormValue {\n  constructor(element, attributes) {\n    super(element, attributes);\n\n    if (attributes) {\n      this._identifier = attributes.signature_id;\n      this._timestamp = DateUtils.parseISOTimestamp(attributes.timestamp);\n    }\n  }\n\n  get id() {\n    return this._identifier;\n  }\n\n  set id(id) {\n    this._identifier = id;\n  }\n\n  get timestamp() {\n    return this._timestamp;\n  }\n\n  set timestamp(timestamp) {\n    if (!(timestamp instanceof Date)) {\n      throw new TypeError('timestamp must be a Date');\n    }\n\n    this._timestamp = timestamp;\n  }\n\n  clear() {\n    this._identifier = null;\n    this._timestamp = null;\n  }\n\n  get isEmpty() {\n    return this._identifier == null;\n  }\n\n  get displayValue() {\n    return this.isEmpty ? null : '1 Signature';\n  }\n\n  get searchableValue() {\n    return null;\n  }\n\n  format({part = null, formatSignatureURL, formatSignatureViewerURL, formatSignatureName, ...args}) {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    if (part === 'timestamp') {\n      return this.timestamp;\n    } else if (part === 'view' && formatSignatureViewerURL) {\n      return formatSignatureViewerURL(this, args);\n    } else if (part === 'url' && formatSignatureURL) {\n      return formatSignatureURL(this, args);\n    } else if (part === 'name' && formatSignatureName) {\n      return formatSignatureName(this, args);\n    }\n\n    return this.id;\n  }\n\n  get length() {\n    return this.isEmpty ? 0 : 1;\n  }\n\n  get columnValue() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const value = {};\n\n    value['f' + this.element.key + '_timestamp'] = this.timestamp;\n    value['f' + this.element.key] = this._identifier;\n\n    return value;\n  }\n\n  get multipleValues() {\n    return null;\n  }\n\n  toJSON() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    return {\n      signature_id: this._identifier,\n      timestamp: DateUtils.formatISOTimestamp(this._timestamp)\n    };\n  }\n\n  isEqual(value) {\n    return false;\n  }\n\n  contains(value) {\n    return false;\n  }\n\n  startsWith(value) {\n    return false;\n  }\n\n  isLessThan(value) {\n    return false;\n  }\n\n  isGreaterThan(value) {\n    return false;\n  }\n}\n"],"mappings":";;;;;AAAA;;AACA;;;;;;;;;;;;;;;;IAEqBA,c;;;EACnB,wBAAYC,OAAZ,EAAqBC,UAArB,EAAiC;IAAA;;IAC/B,8BAAMD,OAAN,EAAeC,UAAf;;IAEA,IAAIA,UAAJ,EAAgB;MACd,MAAKC,WAAL,GAAmBD,UAAU,CAACE,YAA9B;MACA,MAAKC,UAAL,GAAkBC,qBAAA,CAAUC,iBAAV,CAA4BL,UAAU,CAACM,SAAvC,CAAlB;IACD;;IAN8B;EAOhC;;;;SAsBDC,K,GAAA,iBAAQ;IACN,KAAKN,WAAL,GAAmB,IAAnB;IACA,KAAKE,UAAL,GAAkB,IAAlB;EACD,C;;SAcDK,M,GAAA,sBAAkG;IAAA,qBAA1FC,IAA0F;IAAA,IAA1FA,IAA0F,0BAAnF,IAAmF;IAAA,IAA7EC,kBAA6E,QAA7EA,kBAA6E;IAAA,IAAzDC,wBAAyD,QAAzDA,wBAAyD;IAAA,IAA/BC,mBAA+B,QAA/BA,mBAA+B;IAAA,IAAPC,IAAO;;IAChG,IAAI,KAAKC,OAAT,EAAkB;MAChB,OAAO,IAAP;IACD;;IAED,IAAIL,IAAI,KAAK,WAAb,EAA0B;MACxB,OAAO,KAAKH,SAAZ;IACD,CAFD,MAEO,IAAIG,IAAI,KAAK,MAAT,IAAmBE,wBAAvB,EAAiD;MACtD,OAAOA,wBAAwB,CAAC,IAAD,EAAOE,IAAP,CAA/B;IACD,CAFM,MAEA,IAAIJ,IAAI,KAAK,KAAT,IAAkBC,kBAAtB,EAA0C;MAC/C,OAAOA,kBAAkB,CAAC,IAAD,EAAOG,IAAP,CAAzB;IACD,CAFM,MAEA,IAAIJ,IAAI,KAAK,MAAT,IAAmBG,mBAAvB,EAA4C;MACjD,OAAOA,mBAAmB,CAAC,IAAD,EAAOC,IAAP,CAA1B;IACD;;IAED,OAAO,KAAKE,EAAZ;EACD,C;;SAuBDC,M,GAAA,kBAAS;IACP,IAAI,KAAKF,OAAT,EAAkB;MAChB,OAAO,IAAP;IACD;;IAED,OAAO;MACLZ,YAAY,EAAE,KAAKD,WADd;MAELK,SAAS,EAAEF,qBAAA,CAAUa,kBAAV,CAA6B,KAAKd,UAAlC;IAFN,CAAP;EAID,C;;SAEDe,O,GAAA,iBAAQC,KAAR,EAAe;IACb,OAAO,KAAP;EACD,C;;SAEDC,Q,GAAA,kBAASD,KAAT,EAAgB;IACd,OAAO,KAAP;EACD,C;;SAEDE,U,GAAA,oBAAWF,KAAX,EAAkB;IAChB,OAAO,KAAP;EACD,C;;SAEDG,U,GAAA,oBAAWH,KAAX,EAAkB;IAChB,OAAO,KAAP;EACD,C;;SAEDI,a,GAAA,uBAAcJ,KAAd,EAAqB;IACnB,OAAO,KAAP;EACD,C;;;;SAzGD,eAAS;MACP,OAAO,KAAKlB,WAAZ;IACD,C;SAED,aAAOc,EAAP,EAAW;MACT,KAAKd,WAAL,GAAmBc,EAAnB;IACD;;;SAED,eAAgB;MACd,OAAO,KAAKZ,UAAZ;IACD,C;SAED,aAAcG,SAAd,EAAyB;MACvB,IAAI,EAAEA,SAAS,YAAYkB,IAAvB,CAAJ,EAAkC;QAChC,MAAM,IAAIC,SAAJ,CAAc,0BAAd,CAAN;MACD;;MAED,KAAKtB,UAAL,GAAkBG,SAAlB;IACD;;;SAOD,eAAc;MACZ,OAAO,KAAKL,WAAL,IAAoB,IAA3B;IACD;;;SAED,eAAmB;MACjB,OAAO,KAAKa,OAAL,GAAe,IAAf,GAAsB,aAA7B;IACD;;;SAED,eAAsB;MACpB,OAAO,IAAP;IACD;;;SAoBD,eAAa;MACX,OAAO,KAAKA,OAAL,GAAe,CAAf,GAAmB,CAA1B;IACD;;;SAED,eAAkB;MAChB,IAAI,KAAKA,OAAT,EAAkB;QAChB,OAAO,IAAP;MACD;;MAED,IAAMK,KAAK,GAAG,EAAd;MAEAA,KAAK,CAAC,MAAM,KAAKpB,OAAL,CAAa2B,GAAnB,GAAyB,YAA1B,CAAL,GAA+C,KAAKpB,SAApD;MACAa,KAAK,CAAC,MAAM,KAAKpB,OAAL,CAAa2B,GAApB,CAAL,GAAgC,KAAKzB,WAArC;MAEA,OAAOkB,KAAP;IACD;;;SAED,eAAqB;MACnB,OAAO,IAAP;IACD;;;;EApFyCQ,qB"}
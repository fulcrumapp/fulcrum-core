{"version":3,"file":"signature-value.js","names":["SignatureValue","element","attributes","_identifier","signature_id","_timestamp","DateUtils","parseISOTimestamp","timestamp","clear","format","part","formatSignatureURL","formatSignatureViewerURL","formatSignatureName","args","isEmpty","id","toJSON","formatISOTimestamp","isEqual","value","contains","startsWith","isLessThan","isGreaterThan","Date","TypeError","key","FormValue"],"sources":["../../src/values/signature-value.js"],"sourcesContent":["import FormValue from './form-value';\nimport DateUtils from '../utils/date-utils';\n\nexport default class SignatureValue extends FormValue {\n  constructor(element, attributes) {\n    super(element, attributes);\n\n    if (attributes) {\n      this._identifier = attributes.signature_id;\n      this._timestamp = DateUtils.parseISOTimestamp(attributes.timestamp);\n    }\n  }\n\n  get id() {\n    return this._identifier;\n  }\n\n  set id(id) {\n    this._identifier = id;\n  }\n\n  get timestamp() {\n    return this._timestamp;\n  }\n\n  set timestamp(timestamp) {\n    if (!(timestamp instanceof Date)) {\n      throw new TypeError('timestamp must be a Date');\n    }\n\n    this._timestamp = timestamp;\n  }\n\n  clear() {\n    this._identifier = null;\n    this._timestamp = null;\n  }\n\n  get isEmpty() {\n    return this._identifier == null;\n  }\n\n  get displayValue() {\n    return this.isEmpty ? null : '1 Signature';\n  }\n\n  get searchableValue() {\n    return null;\n  }\n\n  format({part = null, formatSignatureURL, formatSignatureViewerURL, formatSignatureName, ...args}) {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    if (part === 'timestamp') {\n      return this.timestamp;\n    } else if (part === 'view' && formatSignatureViewerURL) {\n      return formatSignatureViewerURL(this, args);\n    } else if (part === 'url' && formatSignatureURL) {\n      return formatSignatureURL(this, args);\n    } else if (part === 'name' && formatSignatureName) {\n      return formatSignatureName(this, args);\n    }\n\n    return this.id;\n  }\n\n  get length() {\n    return this.isEmpty ? 0 : 1;\n  }\n\n  get columnValue() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const value = {};\n\n    value['f' + this.element.key + '_timestamp'] = this.timestamp;\n    value['f' + this.element.key] = this._identifier;\n\n    return value;\n  }\n\n  get multipleValues() {\n    return null;\n  }\n\n  toJSON() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    return {\n      signature_id: this._identifier,\n      timestamp: DateUtils.formatISOTimestamp(this._timestamp)\n    };\n  }\n\n  isEqual(value) {\n    return false;\n  }\n\n  contains(value) {\n    return false;\n  }\n\n  startsWith(value) {\n    return false;\n  }\n\n  isLessThan(value) {\n    return false;\n  }\n\n  isGreaterThan(value) {\n    return false;\n  }\n}\n"],"mappings":";;;;AAAA;AACA;AAA4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAEvBA,cAAc;EAAA;EACjC,wBAAYC,OAAO,EAAEC,UAAU,EAAE;IAAA;IAC/B,8BAAMD,OAAO,EAAEC,UAAU,CAAC;IAE1B,IAAIA,UAAU,EAAE;MACd,MAAKC,WAAW,GAAGD,UAAU,CAACE,YAAY;MAC1C,MAAKC,UAAU,GAAGC,qBAAS,CAACC,iBAAiB,CAACL,UAAU,CAACM,SAAS,CAAC;IACrE;IAAC;EACH;EAAC;EAAA,OAsBDC,KAAK,GAAL,iBAAQ;IACN,IAAI,CAACN,WAAW,GAAG,IAAI;IACvB,IAAI,CAACE,UAAU,GAAG,IAAI;EACxB,CAAC;EAAA,OAcDK,MAAM,GAAN,sBAAkG;IAAA,qBAA1FC,IAAI;MAAJA,IAAI,0BAAG,IAAI;MAAEC,kBAAkB,QAAlBA,kBAAkB;MAAEC,wBAAwB,QAAxBA,wBAAwB;MAAEC,mBAAmB,QAAnBA,mBAAmB;MAAKC,IAAI;IAC7F,IAAI,IAAI,CAACC,OAAO,EAAE;MAChB,OAAO,IAAI;IACb;IAEA,IAAIL,IAAI,KAAK,WAAW,EAAE;MACxB,OAAO,IAAI,CAACH,SAAS;IACvB,CAAC,MAAM,IAAIG,IAAI,KAAK,MAAM,IAAIE,wBAAwB,EAAE;MACtD,OAAOA,wBAAwB,CAAC,IAAI,EAAEE,IAAI,CAAC;IAC7C,CAAC,MAAM,IAAIJ,IAAI,KAAK,KAAK,IAAIC,kBAAkB,EAAE;MAC/C,OAAOA,kBAAkB,CAAC,IAAI,EAAEG,IAAI,CAAC;IACvC,CAAC,MAAM,IAAIJ,IAAI,KAAK,MAAM,IAAIG,mBAAmB,EAAE;MACjD,OAAOA,mBAAmB,CAAC,IAAI,EAAEC,IAAI,CAAC;IACxC;IAEA,OAAO,IAAI,CAACE,EAAE;EAChB,CAAC;EAAA,OAuBDC,MAAM,GAAN,kBAAS;IACP,IAAI,IAAI,CAACF,OAAO,EAAE;MAChB,OAAO,IAAI;IACb;IAEA,OAAO;MACLZ,YAAY,EAAE,IAAI,CAACD,WAAW;MAC9BK,SAAS,EAAEF,qBAAS,CAACa,kBAAkB,CAAC,IAAI,CAACd,UAAU;IACzD,CAAC;EACH,CAAC;EAAA,OAEDe,OAAO,GAAP,iBAAQC,KAAK,EAAE;IACb,OAAO,KAAK;EACd,CAAC;EAAA,OAEDC,QAAQ,GAAR,kBAASD,KAAK,EAAE;IACd,OAAO,KAAK;EACd,CAAC;EAAA,OAEDE,UAAU,GAAV,oBAAWF,KAAK,EAAE;IAChB,OAAO,KAAK;EACd,CAAC;EAAA,OAEDG,UAAU,GAAV,oBAAWH,KAAK,EAAE;IAChB,OAAO,KAAK;EACd,CAAC;EAAA,OAEDI,aAAa,GAAb,uBAAcJ,KAAK,EAAE;IACnB,OAAO,KAAK;EACd,CAAC;EAAA;IAAA;IAAA,KAzGD,eAAS;MACP,OAAO,IAAI,CAAClB,WAAW;IACzB,CAAC;IAAA,KAED,aAAOc,EAAE,EAAE;MACT,IAAI,CAACd,WAAW,GAAGc,EAAE;IACvB;EAAC;IAAA;IAAA,KAED,eAAgB;MACd,OAAO,IAAI,CAACZ,UAAU;IACxB,CAAC;IAAA,KAED,aAAcG,SAAS,EAAE;MACvB,IAAI,EAAEA,SAAS,YAAYkB,IAAI,CAAC,EAAE;QAChC,MAAM,IAAIC,SAAS,CAAC,0BAA0B,CAAC;MACjD;MAEA,IAAI,CAACtB,UAAU,GAAGG,SAAS;IAC7B;EAAC;IAAA;IAAA,KAOD,eAAc;MACZ,OAAO,IAAI,CAACL,WAAW,IAAI,IAAI;IACjC;EAAC;IAAA;IAAA,KAED,eAAmB;MACjB,OAAO,IAAI,CAACa,OAAO,GAAG,IAAI,GAAG,aAAa;IAC5C;EAAC;IAAA;IAAA,KAED,eAAsB;MACpB,OAAO,IAAI;IACb;EAAC;IAAA;IAAA,KAoBD,eAAa;MACX,OAAO,IAAI,CAACA,OAAO,GAAG,CAAC,GAAG,CAAC;IAC7B;EAAC;IAAA;IAAA,KAED,eAAkB;MAChB,IAAI,IAAI,CAACA,OAAO,EAAE;QAChB,OAAO,IAAI;MACb;MAEA,IAAMK,KAAK,GAAG,CAAC,CAAC;MAEhBA,KAAK,CAAC,GAAG,GAAG,IAAI,CAACpB,OAAO,CAAC2B,GAAG,GAAG,YAAY,CAAC,GAAG,IAAI,CAACpB,SAAS;MAC7Da,KAAK,CAAC,GAAG,GAAG,IAAI,CAACpB,OAAO,CAAC2B,GAAG,CAAC,GAAG,IAAI,CAACzB,WAAW;MAEhD,OAAOkB,KAAK;IACd;EAAC;IAAA;IAAA,KAED,eAAqB;MACnB,OAAO,IAAI;IACb;EAAC;EAAA;AAAA,EApFyCQ,qBAAS;AAAA"}
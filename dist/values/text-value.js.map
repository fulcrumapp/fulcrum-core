{"version":3,"sources":["../../src/values/text-value.js"],"names":["TextValue","format","useDisplayValue","isEmpty","element","isNumeric","textValue","numericValue","displayValue","NumberUtils","localizedStringFromMachineString","isDecimalFormat","TextualValue"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;IAEqBA,S;;;;;;;;;sBAkBnBC,M,yBAAkC;AAAA,oCAA1BC,eAA0B;AAAA,QAA1BA,eAA0B,wCAAR,KAAQ;;AAChC,QAAI,KAAKC,OAAT,EAAkB;AAChB,aAAO,IAAP;AACD;;AAED,QAAI,KAAKC,OAAL,CAAaC,SAAb,IAA0B,KAAKC,SAAL,IAAkB,IAAhD,EAAsD;AACpD,aAAO,KAAKC,YAAZ;AACD;;AAED,WAAO,KAAKC,YAAZ;AACD,G;;;;wBA3BiB;AAChB,UAAI,KAAKJ,OAAL,CAAaC,SAAjB,EAA4B;AAC1B,eAAO,KAAKE,YAAZ;AACD;AACD;AACA;AACA,aAAO,KAAKD,SAAL,IAAkB,IAAzB;AACD;;;wBAEkB;AACjB,UAAI,KAAKF,OAAL,CAAaC,SAAb,IAA0B,KAAKC,SAAL,IAAkB,IAAhD,EAAsD;AACpD,eAAOG,sBAAYC,gCAAZ,CAA6C,KAAKJ,SAAlD,EAA6D,KAAKF,OAAL,CAAaO,eAA1E,CAAP;AACD;;AAED,aAAO,KAAKL,SAAL,IAAkB,EAAzB;AACD;;;;EAhBoCM,sB;;kBAAlBZ,S","file":"text-value.js","sourcesContent":["import TextualValue from './textual-value';\nimport NumberUtils from '../utils/number-utils';\n\nexport default class TextValue extends TextualValue {\n  get columnValue() {\n    if (this.element.isNumeric) {\n      return this.numericValue;\n    }\n    // this does NOT work in loose mode\n    // return super.columnValue;\n    return this.textValue || null;\n  }\n\n  get displayValue() {\n    if (this.element.isNumeric && this.textValue != null) {\n      return NumberUtils.localizedStringFromMachineString(this.textValue, this.element.isDecimalFormat);\n    }\n\n    return this.textValue || '';\n  }\n\n  format({useDisplayValue = false}) {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    if (this.element.isNumeric && this.textValue != null) {\n      return this.numericValue;\n    }\n\n    return this.displayValue;\n  }\n}\n"]}
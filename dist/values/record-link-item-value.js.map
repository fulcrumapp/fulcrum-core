{"version":3,"file":"record-link-item-value.js","names":["RecordLinkItemValue","parent","attributes","_parent","_recordID","record_id","toJSON","load","dataSource","callback","assert","element","form","getRecord","err","record","_record","displayValue"],"sources":["../../src/values/record-link-item-value.js"],"sourcesContent":["import assert from 'assert';\n\nexport default class RecordLinkItemValue {\n  constructor(parent, attributes) {\n    this._parent = parent;\n    this._recordID = attributes.record_id;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get id() {\n    return this._recordID;\n  }\n\n  toJSON() {\n    return {\n      record_id: this._recordID\n    };\n  }\n\n  get displayValue() {\n    if (this._record) {\n      return this._record.displayValue;\n    }\n\n    return null;\n  }\n\n  get record() {\n    return this._record;\n  }\n\n  set record(record) {\n    this._recordID = record;\n    this._record = record;\n  }\n\n  load(dataSource, callback) {\n    assert(this.parent.element.form, 'form must be present before loading the record');\n\n    dataSource.getRecord(this._recordID, this.parent.element.form, (err, record) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this._record = record;\n\n      return callback();\n    });\n  }\n}\n"],"mappings":";;;;AAAA;AAA4B;AAAA;AAAA;AAAA,IAEPA,mBAAmB;EACtC,6BAAYC,MAAM,EAAEC,UAAU,EAAE;IAC9B,IAAI,CAACC,OAAO,GAAGF,MAAM;IACrB,IAAI,CAACG,SAAS,GAAGF,UAAU,CAACG,SAAS;EACvC;EAAC;EAAA,OAUDC,MAAM,GAAN,kBAAS;IACP,OAAO;MACLD,SAAS,EAAE,IAAI,CAACD;IAClB,CAAC;EACH,CAAC;EAAA,OAmBDG,IAAI,GAAJ,cAAKC,UAAU,EAAEC,QAAQ,EAAE;IAAA;IACzB,IAAAC,kBAAM,EAAC,IAAI,CAACT,MAAM,CAACU,OAAO,CAACC,IAAI,EAAE,gDAAgD,CAAC;IAElFJ,UAAU,CAACK,SAAS,CAAC,IAAI,CAACT,SAAS,EAAE,IAAI,CAACH,MAAM,CAACU,OAAO,CAACC,IAAI,EAAE,UAACE,GAAG,EAAEC,MAAM,EAAK;MAC9E,IAAID,GAAG,EAAE;QACP,OAAOL,QAAQ,CAACK,GAAG,CAAC;MACtB;MAEA,KAAI,CAACE,OAAO,GAAGD,MAAM;MAErB,OAAON,QAAQ,EAAE;IACnB,CAAC,CAAC;EACJ,CAAC;EAAA;IAAA;IAAA,KA3CD,eAAa;MACX,OAAO,IAAI,CAACN,OAAO;IACrB;EAAC;IAAA;IAAA,KAED,eAAS;MACP,OAAO,IAAI,CAACC,SAAS;IACvB;EAAC;IAAA;IAAA,KAQD,eAAmB;MACjB,IAAI,IAAI,CAACY,OAAO,EAAE;QAChB,OAAO,IAAI,CAACA,OAAO,CAACC,YAAY;MAClC;MAEA,OAAO,IAAI;IACb;EAAC;IAAA;IAAA,KAED,eAAa;MACX,OAAO,IAAI,CAACD,OAAO;IACrB,CAAC;IAAA,KAED,aAAWD,MAAM,EAAE;MACjB,IAAI,CAACX,SAAS,GAAGW,MAAM;MACvB,IAAI,CAACC,OAAO,GAAGD,MAAM;IACvB;EAAC;EAAA;AAAA;AAAA"}
{"version":3,"file":"record-link-item-value.js","names":["RecordLinkItemValue","parent","attributes","_parent","_recordID","record_id","toJSON","load","dataSource","callback","assert","element","form","getRecord","err","record","_record","displayValue"],"sources":["../../src/values/record-link-item-value.js"],"sourcesContent":["import assert from 'assert';\n\nexport default class RecordLinkItemValue {\n  constructor(parent, attributes) {\n    this._parent = parent;\n    this._recordID = attributes.record_id;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get id() {\n    return this._recordID;\n  }\n\n  toJSON() {\n    return {\n      record_id: this._recordID\n    };\n  }\n\n  get displayValue() {\n    if (this._record) {\n      return this._record.displayValue;\n    }\n\n    return null;\n  }\n\n  get record() {\n    return this._record;\n  }\n\n  set record(record) {\n    this._recordID = record;\n    this._record = record;\n  }\n\n  load(dataSource, callback) {\n    assert(this.parent.element.form, 'form must be present before loading the record');\n\n    dataSource.getRecord(this._recordID, this.parent.element.form, (err, record) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this._record = record;\n\n      return callback();\n    });\n  }\n}\n"],"mappings":";;;;;AAAA;;;;;;;;IAEqBA,mB;EACnB,6BAAYC,MAAZ,EAAoBC,UAApB,EAAgC;IAC9B,KAAKC,OAAL,GAAeF,MAAf;IACA,KAAKG,SAAL,GAAiBF,UAAU,CAACG,SAA5B;EACD;;;;SAUDC,M,GAAA,kBAAS;IACP,OAAO;MACLD,SAAS,EAAE,KAAKD;IADX,CAAP;EAGD,C;;SAmBDG,I,GAAA,cAAKC,UAAL,EAAiBC,QAAjB,EAA2B;IAAA;;IACzB,IAAAC,kBAAA,EAAO,KAAKT,MAAL,CAAYU,OAAZ,CAAoBC,IAA3B,EAAiC,gDAAjC;IAEAJ,UAAU,CAACK,SAAX,CAAqB,KAAKT,SAA1B,EAAqC,KAAKH,MAAL,CAAYU,OAAZ,CAAoBC,IAAzD,EAA+D,UAACE,GAAD,EAAMC,MAAN,EAAiB;MAC9E,IAAID,GAAJ,EAAS;QACP,OAAOL,QAAQ,CAACK,GAAD,CAAf;MACD;;MAED,KAAI,CAACE,OAAL,GAAeD,MAAf;MAEA,OAAON,QAAQ,EAAf;IACD,CARD;EASD,C;;;;SA3CD,eAAa;MACX,OAAO,KAAKN,OAAZ;IACD;;;SAED,eAAS;MACP,OAAO,KAAKC,SAAZ;IACD;;;SAQD,eAAmB;MACjB,IAAI,KAAKY,OAAT,EAAkB;QAChB,OAAO,KAAKA,OAAL,CAAaC,YAApB;MACD;;MAED,OAAO,IAAP;IACD;;;SAED,eAAa;MACX,OAAO,KAAKD,OAAZ;IACD,C;SAED,aAAWD,MAAX,EAAmB;MACjB,KAAKX,SAAL,GAAiBW,MAAjB;MACA,KAAKC,OAAL,GAAeD,MAAf;IACD"}